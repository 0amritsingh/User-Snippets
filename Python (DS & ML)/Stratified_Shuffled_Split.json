{
    "Stratified Shuffle Split": {
        "prefix": "stratified_shuffle_split",
        "body": [
            "def stratified_shuffle_split(dataframe, standard_column, u_bins, u_labels, u_splits, u_test_size, u_random_state=42):",
            "    # Step 1: Import necessary modules",
            "    import numpy as np",
            "    import pandas as pd",
            "    from sklearn.model_selection import StratifiedShuffleSplit",
            "    ",
            "    # Make a copy to avoid modifying original dataframe",
            "    data = dataframe.copy()",
            "    ",
            "    # Step 2: Create helper column to categorize standard column with bins and labels",
            "    data['helper_column'] = pd.cut(data[standard_column], bins=u_bins, labels=u_labels)",
            "    ",
            "    # Step 3: Use sklearn to split the dataset",
            "    split = StratifiedShuffleSplit(n_splits=u_splits, test_size=u_test_size, random_state=u_random_state)",
            "    stratified_indices = split.split(data, data['helper_column'])",
            "    ",
            "    # Step 4: Separate both splits",
            "    for train_indices, test_indices in stratified_indices:",
            "        stratified_train_dataset = data.iloc[train_indices].copy()",
            "        stratified_test_dataset = data.iloc[test_indices].copy()",
            "    ",
            "    # Step 5: Remove helper column from both datasets",
            "    stratified_train_dataset.drop('helper_column', axis=1, inplace=True)",
            "    stratified_test_dataset.drop('helper_column', axis=1, inplace=True)",
            "    ",
            "    return stratified_train_dataset, stratified_test_dataset",
            "",
            "train_data, test_data = stratified_shuffle_split(",
            "    dataframe=${1:df},",
            "    standard_column='${2:column_name}',",
            "    u_bins=[${3:0, 2, 4, 6, 8, 10}],",
            "    u_labels=[${4:'low', 'medium', 'high', 'very_high', 'extreme'}],",
            "    u_splits=${5:1},",
            "    u_test_size=${6:0.2},",
            "    u_random_state=${7:42}",
            ")"
        ],
        "description": "Python function for stratified shuffle split with binned continuous variables. Automatically handles the process of creating bins, performing stratified split, and cleaning up helper columns."
    }
}